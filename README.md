Система документооборота.
В данной системе компании могут создавать, подписывать и удалять неактуальные документы.

Автор: А. Зайчиков
E-mail: emilien91@gmail.com

API к системе

/api/documents GET запрос

В ответе придут документы созданные пользователем, а так же отправленные ему на подпись.

/api/documents POST запрос 
Body:
    {
        "name": "Договор",
        "number": "РК/02",
        "creator": {
            "id": 2,
            "name": "Рога и Копыта"
        },
        "secondSide": {
            "name": "Кошкин дом"
        }
    }

В системе заведется документ без подписей, если существует документ с таким же name, number, creator и secondSide, то вернется ошибка:

{
    "timestamp": "2020-10-12T00:40:01.248",
    "status": "404",
    "error": "Not found",
    "message": "Документ уже существует в системе! Создание дубликата невозможно!"
}

/api/documents/signdoc POST запрос 
Body:
    {
        "id": 3,
        "name": "Договор"
    }
Подпишется документ id=3 за именем авторизованного пользователя (компании), если документ уже подписан, то вернется ошибка:

{
    "timestamp": "2020-10-12T00:40:57.315",
    "status": "404",
    "error": "Not found",
    "message": "Документ уже подписан, нельзя подписать документ повторно!!!"
}

/api/documents/delete DELETE запрос

    {
        "id": 1,
        "name": "Договор",
        "number": "РК/01-01"
    }
Удалит документ в системе с id=1
если документ подписан хотя бы одной стороной, то вернется ошибка:

{
    "timestamp": "2020-10-12T00:43:28.016",
    "status": "404",
    "error": "Not found",
    "message": "Документ подписан одной из сторон, удаление невозможно!"
}
    
если документ пытается удалить сторона, которой направили этот документ на подпись, то вернется ошибка:
{
    "timestamp": "2020-10-12T00:44:08.173",
    "status": "404",
    "error": "Not found",
    "message": "Удалить документ может только создатель!"
}

если попытаться удалить документ, которого не существует, то вернется ошибка:
{
    "timestamp": "2020-10-12T00:45:21.079",
    "status": "404",
    "error": "Not found",
    "message": "Документ' Договор №РК/01-01' не существует! Проверьте правильность ввода данных"
}


    
